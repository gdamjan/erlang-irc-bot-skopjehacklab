%%-*- mode: erlang -*-

{edoc_opts, [
    {application, ["ircbot"]}
    ]}.

{deps, [
    {ircbot, {git, "https://github.com/gdamjan/erlang-irc-bot.git", {branch, "master"}}},
    {lager, "3.2.1"},
    {hackney, "1.6.5"},
    {couchbeam, "1.4.2"},
    {mochiweb, {git, "https://github.com/mochi/mochiweb.git", {branch, "master"}}},
    {mochiweb_xpath, {git, "https://github.com/retnuh/mochiweb_xpath.git", {branch, "master"}}}
]}.

{relx, [
    {release, {ircbot, "1.0.0"},
        %% list of apps to include
        [ircbot, ircbot_skopjehacklab, lager, couchbeam, mochiweb, mochiweb_xpath]},

    {extended_start_script, true},
    %% Don't ship an Erlang VM by default
    {include_erts, false},
    {system_libs, false},
    {include_src, false},

    {vm_args, "./config/vm.args"}
]}.

{profiles, [
    %% called as `rebar3 as prod <command>`
    {prod, [
        {relx, [
          {dev_mode, false}
        ]}
    ]}
]}.
