%%-*- mode: erlang -*-

{edoc_opts, [
    {application, ["ircbot"]}
    ]}.

{deps, [
    {ircbot, {git, "https://github.com/gdamjan/erlang-irc-bot.git", {branch, "master"}}},
    {lager, {git, "https://github.com/basho/lager.git", {branch, "master"}}},
    {couchbeam, {git, "https://github.com/benoitc/couchbeam.git", {branch, "1.2.x"}}},
    {mochiweb, {git, "https://github.com/mochi/mochiweb.git", {branch, "master"}}},
    {mochiweb_xpath, {git, "https://github.com/retnuh/mochiweb_xpath.git", {branch, "master"}}}
]}.

{relx, [
    {release, {ircbot, "1.0.0"},
     %% list of apps to include
     [ircbot]},

    %% Don't ship an Erlang VM by default
    {include_erts, false},

    {vm_args, "./config/vm.args"}
]}.

{profiles, [
    %% called as `rebar3 as prod <command>`
    {prod, [
        {relx, [ % override relx specifically
          {include_src, false}, % don't include source code
        ]}
    ]}
]}.
